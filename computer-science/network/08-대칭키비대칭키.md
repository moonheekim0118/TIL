# 대칭키 & 비대칭키 비교

## 대칭키

- 암.복호화에 같은 키가 사용된다.
- 클라이언트와 서버간에 key 를 배송하는게 문제가 된다.
- 왜? 배송하다가 중간에 key 가 가로채지면..누구나 정보를 복호화 할 수 있게 되기 때문이다.

## 비대칭키

- 암호화에는 공개키가, 복호화에는 비공개키가 사용된다.
- 클라이언트와 서버간의 key 를 배송하는 문제가 해소된다.
- 왜? 복호화는 무조건 서버가 가진 비공개키로만 가능하기 때문이다.
- 하지만..그만큼 연산비용이 많이 든다.

## 대칭키 + 비대칭키 혼합 방식 (SSL)

- 인증서에 받은 공개키로 임의의 대칭키를 암호화 한다.
- 서버는 자신의 개인키를 이용해서 랜덤 대칭키와 http 데이터를 복호화 한다.
- 서버는 요청받은 url 에 대한 응답을 웹브라우저로 전달받은 랜덤 대칭키를 사용해 데이터를 암호화 해서 웹브라우저에 전송한다.
- 웹브라우저는 대칭키를 이용해서 http 데이터를 복호화하여 화면에 정보를 출력한다.

- 즉, 서버와 클라이언트 모두에서 같은 키를 사용하여 암/복호화 과정을 거치므로 '대칭키 방식'이라고 할 수 있다.
- 그런데, 클라이언트 측에서 대칭키를 암호화 하기전에 서버로부터 받은 '공개키'를 사용하고, 서버 측에서 대칭키를 복호화 하기 위해서 '개인키'를 사용하고 있으므로 '비대칭키 방식'이라고 할 수 있다.
- 왜?
- 대칭키를 사용하는 방식이 연산이 덜 든다. 그런데, 대칭키를 사용하면 서버-클라이언트 간의 키 전송 문제가 걸린다 ㅠㅠ 중간에 가로채가면 큰일나기 때문이다.
- 그래서 이 방식은 '대칭키'를 서로 전달하여 같은 암/복호화를 하지만, 이 대칭키를 또 한번 '비대칭키 방식'으로 암복호화한다..!

### 이 방식이 그냥 비대칭키 방식보다 뭐가 더 좋은가? 왜 성능상 더 좋을까?

- 그냥 비대칭키 방식은 서버/클라이언트가 매번 다른 각각의 공개키와 개인키를 가지고 있어야 한다. 이 연산이 추가되는 것 같다.
- 하지만 대칭키+비대칭키 방식은..! 서버로부터 받은 공개키를 사용해서 암호화된 대칭키를 만들고, 이 대칭키를 서버에서 가지고 있는 비공개키로 복호화하여 사용하기 때문에..! 더 낫지 않을까?!
