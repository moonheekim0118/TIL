# TIL 2023-03-15

## Apollo Client

- 아폴로 클라이언트는 graphQL과 함께 remote data 및 local data를 관리해주는 상태관리 라이브러리이다.
- 캐싱을 지원해준다.
- 직관적인 data fetching 기능을 지원한다.

### Apollo client 를 연동해도, 자꾸만 데이터스키마가 보이지 않는 문제 발생

- 문제 해결 1.
  - 공식문서에서 header 를 커스텀하기 위해서는 link를 사용해야했음.
  - 근데 uri 와 link 를 둘다 사용해버렸고, link 에는 api endpoint를 명시하지 않았음. 그런데 uri 와 link 모두 제공될 경우 link로 덮어씌워짐. 따라서 제대로 된 endpoint 를 제공하지 못함.
- 문제 해결 2.
  - 공식문서에 나온대로 제대로 header 를 커스텀해도 자꾸만 명시한 uri 가 아니라 `localhost:3000/graphql`를 가리키는 문제 발생
  - 이 문서 [https://github.com/apollographql/apollo-client/issues/7432](https://github.com/apollographql/apollo-client/issues/7432) 참고 결과 환경변수 네이밍의 문제 같았음.
  - 따라서, nx 문서에 명시된 대로 NX prefix를 붙여서 해결

## 회고

- 나실님과 1:1 결과 현재 온보딩은 정말 팀에 잘 흡수하기 위해서 대놓고 공부하라구 준 시간이다. 그러니까 빨리해야겠다는 부담 가지지 않고 그냥 편안하게 공부하기 잘 공부해놔야 나중에 더 잘 쓴다. 워낙 생소한 기술스택이라서 천천히 공부하는게 중요. 스프린트 두번은 온보딩이라고 생각하고 넘어갈꺼니까 걱정 노노
- 문서에 보완해야할 점들은 자유롭게 넣어주세용
- 모르는거 솔직하게 말하고 물어보기. 어차피 신입이라 큰 기대 노노
- MSW 세팅하고 그래프큐엘 쿼리 짜고 핸들러 만들고 했다. 아래와 같은 아쉬운 점들이 있었다.
  - 아직 graphQL의 개념을 완전히 숙지하지 못해서 쿼리를 짤 때 이걸 왜 이렇게?라는 생각이 든다.
  - nx 모노레포 구조에 대한 이해가 부족하다보니까 이곳저곳에서 많이 막힌다.
- 따라서 급선무는 모노레포 구조 자체를 잘 이해하는 것과, 그래프큐엘 개념을 잘 이해하는 것
